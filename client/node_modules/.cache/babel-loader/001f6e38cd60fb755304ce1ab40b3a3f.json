{"ast":null,"code":"import _slicedToArray from \"/home/yrd/projects/challenges/mern-calendar/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/yrd/projects/challenges/mern-calendar/client/src/components/auth/RegisterScreen.jsx\";\n\nimport React from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport validator from \"validator\";\nimport { startRegister } from \"../../actions/auth\";\nimport { removeError, setError } from \"../../actions/ui\";\nimport useForm from \"../../hooks/useForm\";\nimport Alert from \"../ui/Alert\";\n\nvar RegisterScreen = function RegisterScreen() {\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return state.ui;\n  }),\n      msgError = _useSelector.msgError;\n\n  var _useForm = useForm({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    password2: \"\"\n  }),\n      _useForm2 = _slicedToArray(_useForm, 2),\n      formValues = _useForm2[0],\n      handleInputChange = _useForm2[1];\n\n  var name = formValues.name,\n      email = formValues.email,\n      password = formValues.password,\n      password2 = formValues.password2;\n\n  var handleRegister = function handleRegister(e) {\n    e.preventDefault();\n    if (isFormValid()) dispatch(startRegister(name, email, password));\n  };\n\n  var isFormValid = function isFormValid() {\n    if (name.trim().length === 0) {\n      dispatch(setError(\"Name is required\"));\n      return false;\n    } else if (name.trim().length > 32) {\n      dispatch(setError(\"Name length must be max 32 characters\"));\n      return false;\n    } else if (!validator.isEmail(email)) {\n      dispatch(setError(\"Email is not valid\"));\n      return false;\n    } else if (!validator.isStrongPassword(password.toString()) || password.length > 32) {\n      dispatch(setError(\"Password should be between 8-32 characters and should include 1 number, 1 symbol, 1 lowercase and 1 uppercase\"));\n      return false;\n    } else if (password !== password2) {\n      dispatch(setError(\"Passwords should match\"));\n      return false;\n    }\n\n    dispatch(removeError());\n    return true;\n  };\n\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"card card--inverse\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card__row card__row--left\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card__body\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"card__title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, \"Create account\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form\",\n    onSubmit: handleRegister,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, msgError && /*#__PURE__*/React.createElement(Alert, {\n    type: \"error\",\n    description: msgError,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 26\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__field\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    className: \"form__label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form__input\",\n    type: \"text\",\n    name: \"name\",\n    id: \"name\",\n    value: name,\n    onChange: handleInputChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__field\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    className: \"form__label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form__input\",\n    type: \"email\",\n    name: \"email\",\n    id: \"email\",\n    value: email,\n    onChange: handleInputChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__field\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    className: \"form__label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form__input\",\n    type: \"password\",\n    name: \"password\",\n    id: \"password\",\n    value: password,\n    onChange: handleInputChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__field\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password2\",\n    className: \"form__label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, \"Password confirmation\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form__input\",\n    type: \"password\",\n    name: \"password2\",\n    id: \"password2\",\n    value: password2,\n    onChange: handleInputChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, \"Register\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card__row card__row--colored card__row--right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card__body\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"card__subtitle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }, \"Welcome back!\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"card__description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }, \"To keep connected, please login with your personal information\"), /*#__PURE__*/React.createElement(Link, {\n    className: \"btn btn-primary btn-primary--outline\",\n    to: \"/auth/login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }, \"Login\"))));\n};\n\nexport default RegisterScreen;","map":{"version":3,"names":["React","useDispatch","useSelector","Link","validator","startRegister","removeError","setError","useForm","Alert","RegisterScreen","dispatch","state","ui","msgError","name","email","password","password2","formValues","handleInputChange","handleRegister","e","preventDefault","isFormValid","trim","length","isEmail","isStrongPassword","toString"],"sources":["/home/yrd/projects/challenges/mern-calendar/client/src/components/auth/RegisterScreen.jsx"],"sourcesContent":["import React from 'react'\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport validator from \"validator\";\nimport { startRegister } from \"../../actions/auth\";\nimport { removeError, setError } from \"../../actions/ui\";\nimport useForm from \"../../hooks/useForm\";\nimport Alert from \"../ui/Alert\";\n\nconst RegisterScreen = () => {\n  const dispatch = useDispatch();\n  const { msgError } = useSelector((state) => state.ui);\n  const [formValues, handleInputChange] = useForm({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    password2: \"\",\n  });\n  const { name, email, password, password2 } = formValues;\n\n  const handleRegister = (e) => {\n    e.preventDefault();\n    if (isFormValid()) dispatch(startRegister(name, email, password));\n  };\n\n  const isFormValid = () => {\n    if (name.trim().length === 0) {\n      dispatch(setError(\"Name is required\"));\n      return false;\n    } else if (name.trim().length > 32) {\n      dispatch(setError(\"Name length must be max 32 characters\"));\n      return false;\n    } else if (!validator.isEmail(email)) {\n      dispatch(setError(\"Email is not valid\"));\n      return false;\n    } else if (\n      !validator.isStrongPassword(password.toString()) ||\n      password.length > 32\n    ) {\n      dispatch(\n        setError(\n          \"Password should be between 8-32 characters and should include 1 number, 1 symbol, 1 lowercase and 1 uppercase\"\n        )\n      );\n      return false;\n    } else if (password !== password2) {\n      dispatch(setError(\"Passwords should match\"));\n      return false;\n    }\n    dispatch(removeError());\n    return true;\n  };\n\n  return (\n    <section className=\"card card--inverse\">\n      <div className=\"card__row card__row--left\">\n        <div className=\"card__body\">\n          <h1 className=\"card__title\">Create account</h1>\n          <form className=\"form\" onSubmit={handleRegister}>\n            {msgError && <Alert type=\"error\" description={msgError} />}\n            <div className=\"form__field\">\n              <label htmlFor=\"name\" className=\"form__label\">\n                Name\n              </label>\n              <input\n                className=\"form__input\"\n                type=\"text\"\n                name=\"name\"\n                id=\"name\"\n                value={name}\n                onChange={handleInputChange}\n              />\n            </div>\n            <div className=\"form__field\">\n              <label htmlFor=\"email\" className=\"form__label\">\n                Email\n              </label>\n              <input\n                className=\"form__input\"\n                type=\"email\"\n                name=\"email\"\n                id=\"email\"\n                value={email}\n                onChange={handleInputChange}\n              />\n            </div>\n            <div className=\"form__field\">\n              <label htmlFor=\"password\" className=\"form__label\">\n                Password\n              </label>\n              <input\n                className=\"form__input\"\n                type=\"password\"\n                name=\"password\"\n                id=\"password\"\n                value={password}\n                onChange={handleInputChange}\n              />\n            </div>\n            <div className=\"form__field\">\n              <label htmlFor=\"password2\" className=\"form__label\">\n                Password confirmation\n              </label>\n              <input\n                className=\"form__input\"\n                type=\"password\"\n                name=\"password2\"\n                id=\"password2\"\n                value={password2}\n                onChange={handleInputChange}\n              />\n            </div>\n            <button className=\"btn btn-primary\" type=\"submit\">\n              Register\n            </button>\n          </form>\n        </div>\n      </div>\n      <div className=\"card__row card__row--colored card__row--right\">\n        <div className=\"card__body\">\n          <h2 className=\"card__subtitle\">Welcome back!</h2>\n          <p className=\"card__description\">\n            To keep connected, please login with your personal information\n          </p>\n          <Link\n            className=\"btn btn-primary btn-primary--outline\"\n            to=\"/auth/login\"\n          >\n            Login\n          </Link>\n        </div>\n      </div>\n    </section>\n  );\n};\nexport default RegisterScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}