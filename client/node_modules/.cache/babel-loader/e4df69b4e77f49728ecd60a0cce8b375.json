{"ast":null,"code":"import _slicedToArray from \"/home/yrd/projects/challenges/mern-calendar/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/yrd/projects/challenges/mern-calendar/client/src/components/auth/LoginScreen.jsx\";\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport validator from \"validator\";\nimport useForm from \"../../hooks/useForm\";\nimport { startLogin } from \"../../actions/auth\";\nimport Alert from \"../ui/Alert\";\nimport { removeError, setError } from \"../../actions/ui\";\n\nvar LoginScreen = function LoginScreen() {\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return state.ui;\n  }),\n      msgError = _useSelector.msgError;\n\n  var _useForm = useForm({\n    email: \"\",\n    password: \"\"\n  }),\n      _useForm2 = _slicedToArray(_useForm, 2),\n      formValues = _useForm2[0],\n      handleInputChange = _useForm2[1];\n\n  var email = formValues.email,\n      password = formValues.password;\n\n  var handleLogin = function handleLogin(e) {\n    e.preventDefault();\n    if (isFormValid()) dispatch(startLogin(email, password));\n  };\n\n  var isFormValid = function isFormValid() {\n    if (!validator.isEmail(email)) {\n      dispatch(setError(\"Email is not valid\"));\n      return false;\n    } else if (password.trim().length === 0) {\n      dispatch(setError(\"Password is required\"));\n      return false;\n    }\n\n    dispatch(removeError());\n    return true;\n  };\n\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"card\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card__row card__row--right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card__body\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"card__title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form\",\n    onSubmit: handleLogin,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, msgError && /*#__PURE__*/React.createElement(Alert, {\n    type: \"error\",\n    description: msgError,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 26\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__field\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    className: \"form__label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 15\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form__input\",\n    type: \"email\",\n    name: \"email\",\n    id: \"email\",\n    value: email,\n    onChange: handleInputChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form__field\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    className: \"form__label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form__input\",\n    type: \"password\",\n    name: \"password\",\n    id: \"password\",\n    value: password,\n    onChange: handleInputChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, \"Login\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card__row card__row--colored card__row--left\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card__body\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"card__subtitle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, \"You're new?\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"card__description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, \"Register and discover a great amount of features\"), /*#__PURE__*/React.createElement(Link, {\n    className: \"btn btn-primary--outline\",\n    to: \"/auth/register\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, \"Create account\"))));\n};\n\nexport default LoginScreen;","map":{"version":3,"names":["React","ReactDOM","useDispatch","useSelector","Link","validator","useForm","startLogin","Alert","removeError","setError","LoginScreen","dispatch","state","ui","msgError","email","password","formValues","handleInputChange","handleLogin","e","preventDefault","isFormValid","isEmail","trim","length"],"sources":["/home/yrd/projects/challenges/mern-calendar/client/src/components/auth/LoginScreen.jsx"],"sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport validator from \"validator\";\nimport useForm from \"../../hooks/useForm\";\nimport { startLogin } from \"../../actions/auth\";\nimport Alert from \"../ui/Alert\";\nimport { removeError, setError } from \"../../actions/ui\";\n\nconst LoginScreen = () => {\n  const dispatch = useDispatch();\n  const { msgError } = useSelector((state) => state.ui);\n  const [formValues, handleInputChange] = useForm({\n    email: \"\",\n    password: \"\",\n  });\n  const { email, password } = formValues;\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n    if (isFormValid()) dispatch(startLogin(email, password));\n  };\n\n  const isFormValid = () => {\n    if (!validator.isEmail(email)) {\n      dispatch(setError(\"Email is not valid\"));\n      return false;\n    } else if (password.trim().length === 0) {\n      dispatch(setError(\"Password is required\"));\n      return false;\n    }\n    dispatch(removeError());\n    return true;\n  };\n\n  return (\n    <section className=\"card\">\n      <div className=\"card__row card__row--right\">\n        <div className=\"card__body\">\n          <h1 className=\"card__title\">Login</h1>\n          <form className=\"form\" onSubmit={handleLogin}>\n            {msgError && <Alert type=\"error\" description={msgError} />}\n            <div className=\"form__field\">\n              <label htmlFor=\"email\" className=\"form__label\">\n                Email\n              </label>\n              <input\n                className=\"form__input\"\n                type=\"email\"\n                name=\"email\"\n                id=\"email\"\n                value={email}\n                onChange={handleInputChange}\n              />\n            </div>\n            <div className=\"form__field\">\n              <label htmlFor=\"password\" className=\"form__label\">\n                Password\n              </label>\n              <input\n                className=\"form__input\"\n                type=\"password\"\n                name=\"password\"\n                id=\"password\"\n                value={password}\n                onChange={handleInputChange}\n              />\n            </div>\n            <button className=\"btn btn-primary\" type=\"submit\">\n              Login\n            </button>\n          </form>\n        </div>\n      </div>\n      <div className=\"card__row card__row--colored card__row--left\">\n        <div className=\"card__body\">\n          <h2 className=\"card__subtitle\">You're new?</h2>\n          <p className=\"card__description\">\n            Register and discover a great amount of features\n          </p>\n          <Link className=\"btn btn-primary--outline\" to={\"/auth/register\"}>\n            Create account\n          </Link>\n        </div>\n      </div>\n    </section>\n  );\n};\nexport default LoginScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}